From 44d3c878f3210c584add83aafd4fc85dc3d272bc Mon Sep 17 00:00:00 2001
From: Erik Bengtsson <erik.bengtsson@flir.se>
Date: Wed, 14 Oct 2020 07:01:40 +0200
Subject: [PATCH] Fix overlay ifdef and reduce CMA reserved memory in
 devicetree.

---
 arch/arm/boot/dts/imx7ulp-ec201.dtsi | 2 +-
 drivers/video/fbdev/mxsfb.c          | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/imx7ulp-ec201.dtsi b/arch/arm/boot/dts/imx7ulp-ec201.dtsi
index 11a0d8358162..8cc32ef2b5e2 100644
--- a/arch/arm/boot/dts/imx7ulp-ec201.dtsi
+++ b/arch/arm/boot/dts/imx7ulp-ec201.dtsi
@@ -23,7 +23,7 @@
 
 	reserved-memory {
 		linux,cma {
-			size = <0x12000000>;
+			size = <0xC000000>;
 		};
 	};
 
diff --git a/drivers/video/fbdev/mxsfb.c b/drivers/video/fbdev/mxsfb.c
index 26ee63fd1220..a550746bddf6 100644
--- a/drivers/video/fbdev/mxsfb.c
+++ b/drivers/video/fbdev/mxsfb.c
@@ -2204,6 +2204,8 @@ static void mxsfb_overlay_suspend(struct mxsfb_info *fbi)
 #else
 static void mxsfb_overlay_init(struct mxsfb_info *fbi) {}
 static void mxsfb_overlay_exit(struct mxsfb_info *fbi) {}
+static void mxsfb_overlay_suspend(struct mxsfb_info *fbi) {}
+static void mxsfb_overlay_resume(struct mxsfb_info *fbi) {}
 #endif
 
 static int mxsfb_probe(struct platform_device *pdev)
-- 
2.17.1


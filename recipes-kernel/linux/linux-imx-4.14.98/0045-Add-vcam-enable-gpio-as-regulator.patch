From 3efdf26cfe7ba5120c78916b9603e5ac05c590ea Mon Sep 17 00:00:00 2001
From: Erik Bengtsson <erik.bengtsson@flir.se>
Date: Mon, 27 May 2019 08:15:06 +0200
Subject: [PATCH] Add vcam-enable gpio as regulator

Signed-off-by: David Sernelius <david.sernelius@flir.se>
---
 arch/arm/boot/dts/imx7ulp-ec201.dtsi | 13 +++++++++++++
 1 file changed, 13 insertions(+)

diff --git a/arch/arm/boot/dts/imx7ulp-ec201.dtsi b/arch/arm/boot/dts/imx7ulp-ec201.dtsi
index 3d23843862e3..63f41651d3de 100644
--- a/arch/arm/boot/dts/imx7ulp-ec201.dtsi
+++ b/arch/arm/boot/dts/imx7ulp-ec201.dtsi
@@ -50,6 +50,18 @@
 			regulator-boot-on;
 			regulator-always-on;
 		};
+
+		vcam_en_reg: vcam_en_reg {
+			compatible = "regulator-fixed";
+			regulator-name = "vcam_en";
+			regulator-min-microvolt = <1800000>;
+			regulator-max-microvolt = <1800000>;
+			gpio = <&gpio_ptf 17 GPIO_ACTIVE_HIGH>;
+			startup-delay-us = <0>;
+			enable-active-high;
+			regulator-boot-on;
+			regulator-always-on;
+		};
 	};
 
 	gpio_keys {
@@ -265,6 +277,7 @@
 			IMX7ULP_PAD_PTF16__PTF16    0x20043  /* CAMERA CLK ENABLE*/
 			IMX7ULP_PAD_PTF15__PTF15    0x20043  /* CAMERA PWDN */
 			IMX7ULP_PAD_PTF14__PTF14    0x20043  /* CAMERA RESET */
+			IMX7ULP_PAD_PTF17__PTF17    0x20043  /* CAMERA ENABLE */
 			IMX7ULP_PAD_PTF3__VIU_PCLK  0x10043
 			IMX7ULP_PAD_PTF6__VIU_D2    0x43
 			IMX7ULP_PAD_PTF7__VIU_D3    0x43
-- 
2.17.1


From 922f2882bfa1f5323ac7fb5451e98428873ca43f Mon Sep 17 00:00:00 2001
From: Felix Hammarstrand <felix.hammarstrand@flir.se>
Date: Tue, 28 May 2019 15:11:49 +0200
Subject: [PATCH] ec201 dtb revb: change lcd panel to truly sherlock display

%% original patch: 0047-ec201-dtb-revb-change-lcd-panel-to-truly-sherlock-di.patch
---
 arch/arm/boot/dts/imx7ulp-ec201-a.dtsi | 26 +++++++++++++++++++++++++-
 arch/arm/boot/dts/imx7ulp-ec201.dtsi   |  6 +++---
 2 files changed, 28 insertions(+), 4 deletions(-)

diff --git a/arch/arm/boot/dts/imx7ulp-ec201-a.dtsi b/arch/arm/boot/dts/imx7ulp-ec201-a.dtsi
index 3316d4a..e5d54d3 100644
--- a/arch/arm/boot/dts/imx7ulp-ec201-a.dtsi
+++ b/arch/arm/boot/dts/imx7ulp-ec201-a.dtsi
@@ -10,6 +10,17 @@
  
 /* This device tree is for board ec201 revision a  */
 
+
+/ {
+	mipi_dsi_reset: mipi-dsi-reset {
+		reset-gpios = <&gpio_ptf 0 GPIO_ACTIVE_LOW>;   // Dummy GPIO, not used
+
+	};
+};
+
+
+
+
 &iomuxc1 {
 
 	pinctrl_lpi2c7: lpi2c7grp {
@@ -20,6 +31,13 @@
 			IMX7ULP_PAD_PTC7__PTC7          0x3 /* TP_RESET_n */
 			>;
 	};
+
+	pinctrl_mipi_dsi_reset: mipi_dsi_reset_grp {
+		fsl,pins = <
+			IMX7ULP_PAD_PTF0__PTF0    0x3 /* Dummy */
+			>;
+	};
+
 };
 
 
@@ -31,4 +49,10 @@
 		interrupts = <14 GPIO_ACTIVE_HIGH>;
 		reset-gpios = <&gpio_ptc 7 GPIO_ACTIVE_LOW>;
 	};
-};
\ No newline at end of file
+};
+
+
+/* LCD */
+&mipi_dsi {
+	lcd_panel = "ORISE-VGA";
+};
diff --git a/arch/arm/boot/dts/imx7ulp-ec201.dtsi b/arch/arm/boot/dts/imx7ulp-ec201.dtsi
index 63f4165..3f75891 100644
--- a/arch/arm/boot/dts/imx7ulp-ec201.dtsi
+++ b/arch/arm/boot/dts/imx7ulp-ec201.dtsi
@@ -90,7 +90,7 @@
 
 	mipi_dsi_reset: mipi-dsi-reset {
 		compatible = "gpio-reset";
-		reset-gpios = <&gpio_ptf 0 GPIO_ACTIVE_LOW>;   // Dummy GPIO, not used
+		reset-gpios = <&gpio_ptc 7 GPIO_ACTIVE_LOW>;
 		reset-delay-us = <1000>;
 		#reset-cells = <0>;
 	};
@@ -148,7 +148,7 @@
 	pinctrl-names = "default", "sleep";
 	pinctrl-0 = <&pinctrl_mipi_dsi_reset>;
 	pinctrl-1 = <&pinctrl_mipi_dsi_reset>;
-	lcd_panel = "ORISE-VGA";
+	lcd_panel = "TRULY-VGA-SHERLOCK";
 	status = "okay";
 	resets = <&mipi_dsi_reset>;
 };
@@ -268,7 +268,7 @@
 
 	pinctrl_mipi_dsi_reset: mipi_dsi_reset_grp {
 		fsl,pins = <
-			IMX7ULP_PAD_PTF0__PTF0    0x3 /* Dummy */
+			IMX7ULP_PAD_PTC7__PTC7    0x3 /* DISPLAY_RESET */
 			>;
 	};
 
-- 
2.7.4


From 969733a5cc402659aad1cc20802f43412ee68d40 Mon Sep 17 00:00:00 2001
From: Anton Persson <anton.persson@teledyneflir.com>
Date: Tue, 4 Apr 2023 15:41:27 +0200
Subject: [PATCH] AGATHA-580: Remove blue-screen blink.

Signed-off-by: Anton Persson <anton.persson@teledyneflir.com>

diff --git a/libweston/renderer-g2d/g2d-renderer.c b/libweston/renderer-g2d/g2d-renderer.c
index 778610e6..e1120576 100644
--- a/libweston/renderer-g2d/g2d-renderer.c
+++ b/libweston/renderer-g2d/g2d-renderer.c
@@ -2417,7 +2417,6 @@ g2d_renderer_surface_create(struct g2d_output_state *go,
 		get_G2dSurface_from_screeninfo(&go->fb_info, &go->renderSurf[i]);
 		go->renderSurf[i].base.planes[0] = go->fb_info.physical
 											+ (offset * i);
-		g2d_clear(gr->handle, &go->renderSurf[i].base);
 	}
 
 	if(go->nNumBuffers == 1)
@@ -2425,7 +2424,6 @@ g2d_renderer_surface_create(struct g2d_output_state *go,
 		go->offscreenSurface = (go->renderSurf[go->activebuffer]);
 		go->offscreen_buf = g2d_alloc(go->fb_info.buffer_length, 0);
 		go->offscreenSurface.base.planes[0] = go->offscreen_buf->buf_paddr;
-		g2d_clear(gr->handle, &go->offscreenSurface.base);
 	}
 	return 0;
 }
